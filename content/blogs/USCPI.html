---
categories:  
- ""    #the front matter should be like the one found in, e.g., blog2.md. It cannot be like the normal Rmd we used
- ""
date: "2021-10-20"
description: US yield curve # the title that will show up once someone gets to this page
draft: false
image: cpi.jpg # save picture in \static\img\blogs. Acceptable formats= jpg, jpeg, or png . Your iPhone pics wont work

keywords: ""
slug: USCPI # slug is the shorthand URL address... no spaces plz
title: US yield curve since 1960-01-01
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<div id="how-has-the-cpi-and-its-components-changed-over-the-last-few-years" class="section level1">
<h1>How has the CPI and its components changed over the last few years?</h1>
<p>Remember how we used the tidyqant package to download CPI data. In this exercise, I would like you to do the following:</p>
<ol style="list-style-type: decimal">
<li>You can find <a href="https://fredaccount.stlouisfed.org/public/datalist/843">CPI components at FRED</a>. You should adapt the code from German polls to scrape the FRED website and pull all of the CPI components into a vector. FIY, the list of components is the second table in that webpage.</li>
<li>Once you have a vector of components, you can then pass it to <code>tidyquant::tq_get(get = "economic.data", from =  "2000-01-01")</code> to get all data since January 1, 2000</li>
<li>Since the data you download is an index with various starting dates, you need to calculate the yearly, or 12-month change. To do this you need to use the <code>lag</code> function, and specifically, <code>year_change = value/lag(value, 12) - 1</code>; this means you are comparing the current monthâ€™s value with that 12 months ago lag(value, 12).</li>
<li>I want you to order components so the higher the yearly change, the earlier does that component appear.</li>
<li>You should also make sure that the <strong>All Items</strong> CPI (CPIAUCSL) appears first.</li>
<li>Add a <code>geom_smooth()</code> for each component to get a sense of the overall trend.
1 You may want to colour the points according to whether yearly change was positive or negative.</li>
</ol>
<p><img src="/blogs/USCPI_files/figure-html/cpi_all_components_since_2016_1-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
